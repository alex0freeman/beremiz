

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Общие сведения о языке FBD &mdash; Документация Beremiz </title>
  

  
  
    <link rel="shortcut icon" href="../_static/brz.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Алфавитный указатель"
              href="../genindex.html"/>
        <link rel="search" title="Поиск" href="../search.html"/>
    <link rel="top" title="Документация Beremiz " href="../index.html"/>
        <link rel="up" title="Языки стандарта МЭК 61131-3" href="index.html"/>
        <link rel="next" title="Beremiz: Руководство разработчика" href="../developer_guide/index.html"/>
        <link rel="prev" title="Общие сведения о языке SFC" href="sfc_guide.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Beremiz
          

          
            
            <img src="../_static/about_brz_logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Содержание</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install_guide/index.html">Инструкции по установке</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage_guide/index.html">Руководство программиста</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Языки стандарта МЭК 61131-3</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="st_guide.html">Общие сведения о языке ST</a></li>
<li class="toctree-l2"><a class="reference internal" href="il_guide.html">Общие сведения о языке IL</a></li>
<li class="toctree-l2"><a class="reference internal" href="ld_guide.html">Общие сведения о языке LD</a></li>
<li class="toctree-l2"><a class="reference internal" href="sfc_guide.html">Общие сведения о языке SFC</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Общие сведения о языке FBD</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Основные понятия и конструкции языка</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Пример программы на языке FBD</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html">Beremiz: Руководство разработчика</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation_guide/index.html">Участие в разработке документации</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Beremiz</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Языки стандарта МЭК 61131-3</a> &raquo;</li>
      
    <li>Общие сведения о языке FBD</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/iec_guide/fbd_guide.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fbd">
<h1><a class="toc-backref" href="#id4">Общие сведения о языке FBD</a><a class="headerlink" href="#fbd" title="Ссылка на этот заголовок">¶</a></h1>
<div class="contents topic" id="id1">
<p class="topic-title first">Содержание</p>
<ul class="simple">
<li><a class="reference internal" href="#fbd" id="id4">Общие сведения о языке FBD</a><ul>
<li><a class="reference internal" href="#id2" id="id5">Основные понятия и конструкции языка</a></li>
<li><a class="reference internal" href="#id3" id="id6">Пример программы на языке FBD</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>FBD (Function Block Diagram)</strong> – это графический язык программирования
высокого уровня, обеспечивающий управление потока данных всех типов.
Позволяет использовать мощные алгоритмы простым вызовом функций и
функциональных блоков. Удовлетворяет непрерывным динамическим процессам.
Замечательно подходит для небольших приложений и удобен для реализации
сложных вещей подобно ПИД регуляторам, массивам и т. д. Данный язык
может использовать большую библиотеку блоков, описание которых приведено
в приложении 2. FBD заимствует символику булевой алгебры и, так как
булевы символы имеют входы и выходы, которые могут быть соединены между
собой, FBD является более эффективным для представления структурной
информации, чем язык релейно-контактных схем.</p>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id5">Основные понятия и конструкции языка</a><a class="headerlink" href="#id2" title="Ссылка на этот заголовок">¶</a></h2>
<p>Согласно IEC 61131­3, основными элементами языка FBD являются:
переменные, функции, функциональные блоки и соединения.</p>
<p>Переменные бывают входные, выходные и входные/выходные. На рис. 1
показаны: входная переменная – «in_var», выходная переменная –
«out_var» и входная/выходная переменная – «in_out_var».</p>
<p><a class="reference internal" href="../_images/image1.png"><img alt="image1" src="../_images/image1.png" style="width: 1.14722in; height: 1.10764in;" /></a></p>
<p>Рис. 1 – Изображение переменной в языке FBD</p>
<p>Графическое изображение функции приведено на рис. 2. С левой стороны
располагаются вхо­ды (IN1 и IN2), с правой стороны выходы (OUT).</p>
<p><a class="reference internal" href="../_images/image2.png"><img alt="image2" src="../_images/image2.png" style="width: 1.13056in; height: 0.84028in;" /></a></p>
<p>Рис. 2 – Изображение функции в языке FBD</p>
<p>Аналогично, изображение функционального блока, приведённое на рис. 3,
имеет с левой стороны вхо­ды (S1 и R), с правой стороны выход (Q1).</p>
<p><a class="reference internal" href="../_images/image3.png"><img alt="image3" src="../_images/image3.png" style="width: 1.26875in; height: 1.05556in;" /></a></p>
<p>Рис. 3 – Изображение функционального блока в языке FBD</p>
<p>Соответственно, переменные соединяются с входными и выходными
параметрами функций и функциональных блоков. Входные переменные могут
быть соединены только с входными параметрами функции или функционального
блока, выходные переменные – только с выходными параметрами функции или
функционального блока, входные/выходные переменные – как входами, так и
с выходами функции или функционального блока. Также выходной параметр
одной функции или функционального блока может быть напрямую соединён с
входным параметром другого.</p>
<p><a class="reference internal" href="../_images/image4.png"><img alt="image4" src="../_images/image4.png" style="width: 4.27847in; height: 1.11667in;" /></a></p>
<p>Рис. 4 – Пример соединения переменных, функций и функциональных блоков</p>
<p>Все функциональные блоки могут быть вызваны с дополнительными
(необязатель­ными) формальными параметрами: EN (входом) и ENO (выходом).
Пример такого функционального блока приведен на рис. 5.</p>
<p><a class="reference internal" href="../_images/image5.png"><img alt="image5" src="../_images/image5.png" style="width: 1.18264in; height: 0.95972in;" /></a></p>
<p>Рис. 5 – Изображение элементарного функционального блока с параметрами
EN/ENO</p>
<p>Если функциональный блок вызывается с параметрами EN/ENO и при этом
значе­ние EN равно нулю, то алгоритмы, определяемые в функциональном
блоке, не будут вы­полняться. В этом случае значение ENO автоматически
устанавлива­ется равным 0. Если же значение EN равно 1, то алгоритмы,
опреде­ляемые функциональным блоком, будут выполнены. После выполнения
этих алгоритмов без ошибок значение ENO автоматически устанавливается
равным 1. Если же возникает ошибка во время выполнения этих алгоритмов,
то значение ENO будет установлено равным 0. Поведение функционального
блока одинаково как в случае вызова функционального блока с EN = 1, так
и при вызове без параметров EN/ENO.</p>
<p>Для более компактного соединения входов и выходов различных функций и
функциональных блоков используются элементы «Соединение», показанные на
рис. 6:</p>
<p><a class="reference internal" href="../_images/image6.png"><img alt="image6" src="../_images/image6.png" style="width: 1.02500in; height: 0.77083in;" /></a></p>
<p>Рис. 6 – Изображение соединений в языке FBD</p>
<p>Они бывают двух видов: входное соединение и выходное выходные
соединение. Основная задача соединений – передать значение из одного
выхода на другой вход без прямого соединения выхода и входа. На рис. 5.7
показан пример, в котором выходное значение OUT функции BOOL_TO_INT
передаётся на вход IN2 функции ADD:</p>
<p><a class="reference internal" href="../_images/image7.png"><img alt="image7" src="../_images/image7.png" style="width: 2.59097in; height: 1.86875in;" /></a></p>
<p>Рис. 7 – Пример использования соединения на FBD диаграмме</p>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id6">Пример программы на языке FBD</a><a class="headerlink" href="#id3" title="Ссылка на этот заголовок">¶</a></h2>
<p>На рис. 8 приведена FBD диаграмма, состоящая из следующих
функциональных блоков: SR0, AND, TP0.</p>
<p><a class="reference internal" href="../_images/image8.png"><img alt="image8" src="../_images/image8.png" style="width: 6.73194in; height: 1.61736in;" /></a></p>
<p>Рис. 8 – пример FBD диаграммы</p>
<p>Функциональный блок SR0 представляет собой Бистабильный SR-триггер. У
него имеются входы S1, R1 и выход Q1, а так же дополнительный вход EN и
выход ENO, позволяющие включать и выключать выполнение SR0. Выход Q1 с
помощью соединён с входом IN1 блока AND, представляющий собой
«Логическое И». Вход IN2 типа BOOL соединён с литералом «BOOL#1»,
который всегда положительный. Выход OUT блока AND соединён с входом IN
функционального блока TP0, представляющий собой повторитель импульсов.
Вход PT типа TIME, соединён с литералом «T#5s», который задаёт значение
5 секунд.</p>
<p>Если после запуска выполнения данного функционального блока enabled
равно True и переменная S1_IN тоже True, функциональный блок SR0
начинает выполняться. На выходе OUT функционального блока AND будет
значение True как только Q1 у SR0 будет равен True. Следовательно, как
только OUT становится True вход IN функционального блока TP0 принимает
тоже True и начинается отсчёт таймера ET (см. рис. 9).</p>
<p><a class="reference internal" href="../_images/image9.png"><img alt="image9" src="../_images/image9.png" style="width: 6.56458in; height: 1.59583in;" /></a></p>
<p>Рис. 9 – Выполнение FBD диаграммы</p>
<p>Пока данный таймер не достигнет значения PT выход Q у функционального
блока TP0 будет равен True. При достижении таймером ET значения PT, т.е.
через 5 секунд выход Q становится False (см. рис. 10).</p>
<p><a class="reference internal" href="../_images/image10.png"><img alt="image10" src="../_images/image10.png" style="width: 6.62083in; height: 1.62569in;" /></a></p>
<p>Рис. 10 – Выполнение FBD диаграммы</p>
<p>Как только вход IN функционального блока TP0 становится значения FALSE,
счётчик ET сбрасывается в T#0s.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../developer_guide/index.html" class="btn btn-neutral float-right" title="Beremiz: Руководство разработчика" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sfc_guide.html" class="btn btn-neutral" title="Общие сведения о языке SFC" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, JSC &#34;INEUM named after I.S.Bruk&#34;.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>