Обращение к программе. Входные и выходные данные
================================================

Общая схема по созданию прикладной программы в среде разработки Beremiz
представлена на рис. 1. Входными данными являются программные модули,
написанные пользователем (в большинстве случаев инженером по
автоматизации) на текстовых (ST, IL) и/или графических (FBD, SFC, LD)
языках в соответствии со стандартом IEC 61131-3, объединённые в проект.
Каждый такой проект представлен в формате XML и хранится в отдельной
папке.

Выходными данными является сгенерированный исходный код и исполняемый
файл:

-  Файл <название проекта> содержащий промежуточный код на языке ST,
   сгенерированный для всех программных модулей и ресурсов,
   транслируемый в язык C;

-  Файлы: config.c config.h, POUS.h, POUS.c и файлы, соответствующие
   ресурсам - содержат код (на языке C) реализации алгоритмов и логики
   работы программных модулей и ресурсов проекта;

-  Файлы plc_common_main.c и plc_debugger.c содержат код специфичный для
   целевой архитектуры и код для отладки прикладной программы на целевом
   устройстве из среды разработки Beremiz соответственно;

-  Файлы, содержащие код драйверов на языке С для взаимодействия с
   внешними модулями УСО;

-  Исполняемый файл в виде динамической библиотеки (с расширением so),
   компилируемый из этих вышеперечисленных C файлов.

Сгенерированный C код, с помощью кросскомпилятора, запущенного под
UNIX-подобной оболочкой, компилируется в исполняемый бинарный файл,
представленный в виде библиотеки.

Исполняемый файл, благодаря средствам Beremiz, может быть размещен на
целевом устройстве через локальную сеть.

На целевом устройстве исполняемый файл запускается и в процессе работы
выполняет следующие действия (см. :numref:`image1`):

-  С помощью драйверов модулей УСО обменивается данными с внешними
   модулями;

-  Исполняет алгоритмы и логику, определенную пользователем в
   программных модулях проекта;

-  Предоставляет данные для трансляции в системы верхнего уровня;

-  Сохраняет и транслирует информацию для отладки прикладных программ.

.. figure:: ./media/image1.png
   :name: image1
   :align: center
   :figclass: align-center
   :width: 7.10458in
   :height: 5.11394in

   \- Обобщенная схема инструментальной среды Beremiz

